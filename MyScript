#!
#PROGRAMM FILE: MyScript
#PROGRAMMER: Abbasguliev Rolan
param1=$1
param2=$2
param3=$3
param4=$4

function calc()
{
  case $param2 in 
    sum)
         echo "Sum is $(( param3 + param4 ))"
         ;;
    sub)
         echo "Sub is $(( param3 - param4 ))"
         ;;
    mul) 
         echo "Mul is $(( param3 * param4 ))"
         ;;
    div)			 	
         echo "Div is $(( param3 / param4 ))"
         ;;
      *)
         echo "#Function calc error" 
         exit 1
         ;; 
    esac	
}

function search() 
{
  local file_name=$param2
  local pattern=$param3 
  grep -r $pattern $file_name 
}

function reverse()
{
  local file_f=$param2
  local file_s=$param3
 
  #local file_f_way=$(realpath $file_f)
 
  readarray arr < SearchMe/$file_f
  for ((i=${#arr[*]}; i >= 0; i--))
  do
    echo ${arr[$i]} >> SearchMe/$file_s
  done
}

case $param1 in 
  calc)		 
    calc
    ;;
  search)
    search
    ;;
  reverse)
    reverse 
    ;; 
  *)
    echo "#Main Loop error"
    exit 1
    ;;
esac


